# üß† Infra: The Agentic Workflow Coordinator

This repository is the central orchestration unit for an automated, agent-ready GitHub ecosystem. it serves as the "Senior Architect" and "DevOps Lead" for all other projects in this workspace.

## üèóÔ∏è Core Components

### 1. The Infra Planner (`planner.py`)
A state-of-the-art repository auditor. It scans target repositories and generates a **Modernization Roadmap** (`ROADMAP.md`) based on 2025 SOTA standards.
- **Priority One:** Enabling "Parallel Agent Workflows" via Worktrunk.
- **Standards:** Enforces `uv` for dependency management, strict `mypy` typing, and automated CI/CD.

### 2. Global Code Review Standards (`GEMINI.md`)
The "source of truth" for all AI agents.
- **Centralized:** Other repositories (like `WebScraper`) fetch these rules dynamically during CI runs.
- **Governance:** Mandates PR-only workflows and write-protected `main` branches to ensure a clean, stable codebase even with multiple agents working in parallel.

### 3. Automated Reviewer (`.github/workflows/reviewer.yml`)
A reusable GitHub Action that triggers Gemini-powered code reviews on every Pull Request.
- **Critical Blocking:** Automatically blocks merges if "Bug Risk" or "Security" issues are detected.
- **Solo-Friendly:** Allows self-merging once automated checks are green, removing bottlenecks for solo developers.

## üîÑ The "Agent Loop" Workflow

This ecosystem is designed to be used with **Worktrunk** to allow 5-10 AI agents to work in parallel without git lock conflicts.

1.  **Plan:** Run `uv run planner.py` to see what needs to be built.
2.  **Branch:** Use Worktrunk to create an isolated environment:
    ```bash
    wt add feature/new-logic
    ```
3.  **Work:** Let the Agent (Claude Code, Cursor, etc.) work inside the worktree folder (`../repo.feature-new-logic`).
4.  **Verify:** The Agent runs `uv run ruff check .` and `uv run mypy .` locally.
5.  **Submit:** The Agent pushes to a branch and opens a PR.
6.  **Review:** GitHub Actions run the **CI** (lint/type-check) and **AI Reviewer** (fetching rules from this repo).
7.  **Merge:** Once checks are green, merge the PR and cleanup:
    ```bash
    wt merge feature/new-logic
    wt remove feature/new-logic
    ```

## üõ†Ô∏è Setup

1.  **Dependencies:**
    ```bash
    uv sync --extra dev
    ```
2.  **Configuration:**
    Ensure `GEMINI_API_KEY` is set in your environment.
3.  **Standards:**
    All code in this repo must pass:
    ```bash
    uv run ruff check .
    uv run mypy .
    ```

---
*Generated by the Infra Planner ‚Äî Automating the workflow from the inside out.*
